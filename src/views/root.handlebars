<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="{{documentationUrl}}/assets/css/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="{{documentationUrl}}/assets/css/ending.css" rel="stylesheet" type="text/css" media="screen" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="{{documentationUrl}}/assets/js/all.js" type="text/javascript"></script>

    <script>
        $(function() {
            setupLanguages(["shell", "javascript"]);
        });
    </script>
</head>

<body class="index">
    <a href="#" id="nav-button">
        <span>
        NAV
        <img src="{{documentationUrl}}/assets/img/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
        <img src="{{logoUrl}}" style="width: 80%; margin: 20px;" />
        <div class="lang-selector">
            <a href="#" data-language-name="shell">shell</a>
            <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
            <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
        <div id="toc">
        </div>
        <ul class="toc-footer">
            <li><a href='http://github.com/tripit/slate'>Documentation based on Slate</a>
            </li>
        </ul>
    </div>
    <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content">
          {{#each routes}}
            <h1 id='{{idify path}}' data-path="{{path}}">{{path}}</h1>
            <h2 id='{{idify fullQuery}}'>{{fullQuery}}</h2>

            <pre style="display: block;">
              <code class="highlight shell">curl
                <span class="s2">
                  {{fullQuery}}
                </span>
                {{#if settings.validate.payload}}
                  -H <span class="s2">"Content-Type: application/json"</span>
                  -d <span class="s2">"{{jsonPayload}}"</span>
                {{/if}}
              </code>
            </pre>

            <pre style="display: block;">
              <code class="highlight javascript">
                var http = require('http');

                var options = {
                  method: '<span class="s2">{{method}}</span>',
                  path: '<span class="s2">{{fullQuery}}</span>'
                };

                http.request(options, function(response) {
                  var body = '';

                  response.on('data', function (chunk) {
                    body += chunk;
                  });

                  response.on('end', function () {
                    console.log(body);
                  });
                }).end();
              </code>
            </pre>

            <p class="endpoint-description">{{settings.description}}</p>

            <h3>HTTP REQUEST</h3>
            <p class="url-mapping"><code prettyprint="true"><span class="method">{{method}}</span> {{path}}</code></p>

            <h3>TAGS</h3>
            <ul class="tags">
                {{#each settings.tags}}
                <li class="tag">{{this}}</li>
                {{/each}}
            </ul>

            {{#if settings.validate.params}}
            <h3>URI Components</h3>
            <table class="params-table">
                <thead>
                    <tr>
                        <td>Parameter</td>
                        <td>Type</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    {{#each settings.validate.params._inner.children}}
                    <tr>
                        <td>{{key}}</td>
                        <td>{{schema._type}}</td>
                        <td>{{schema._description}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            {{/if}}
            {{#if settings.validate.query}}
            <h3>Query String</h3>
            <table  class="query-table">
                <thead>
                    <tr>
                        <td>Key</td>
                        <td>Type</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    {{#each settings.validate.query._inner.children}}
                    <tr>
                        <td>{{key}}</td>
                        <td>{{schema._type}}</td>
                        <td>{{schema._description}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            {{/if}}
            {{#if settings.validate.payload}}
            <h3>JSON Payload</h3>
            <table  class="payload-table">
                <thead>
                    <tr>
                        <td>Attribute</td>
                        <td>Type</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    {{#each settings.validate.payload._inner.children}}
                    <tr>
                        <td>{{key}}</td>
                        <td>{{schema._type}}</td>
                        <td>{{schema._description}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            {{/if}}
          {{/each}}
        </div>
        <div class="dark-box">
            <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
            </div>
        </div>
    </div>
</body>
